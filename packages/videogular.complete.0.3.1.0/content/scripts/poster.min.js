angular.module("com.2fdevs.videogular.plugins.poster",[]).directive("vgPosterImage",["VG_EVENTS",function(d){return{restrict:"E",require:"^videogular",scope:{vgUrl:"=",vgStretch:"="},template:'<img ng-src="{{vgUrl}}" ng-class="vgStretch">',link:function(g,c,k,e){function f(){switch(g.vgStretch){case "fill":b>a[0].width?(a.css("width",b),a.css("height","auto"),a.css("left","0")):(a.css("width","auto"),a.css("height","100%"),h=(b-a[0].width)/2,a.css("left",h+"px"));break;case "fit":a.css("width","100%");
a.css("height","auto");a.css("left","0px");break;case "none":a.css("width","auto"),a.css("height","auto"),a.css("left","0px")}}var a=c.find("img"),b=0,h=0;a[0].onload=function(){0==b&&(b=c[0].clientWidth);f()};g.$watch("vgStretch",function(a,b){a!=b&&f()});e.$on(d.ON_PLAY,function(){c.css("display","none")});e.$on(d.ON_COMPLETE,function(){c.css("display","block")});e.$on(d.ON_UPDATE_SIZE,function(a,c){b=c[0];f()})}}}]);